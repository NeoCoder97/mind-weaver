# Spider-Aggregation 项目总览

## 项目愿景

构建一个**个人知识或研究动态监测工具**，实现从多源信息采集到智能推荐的完整闭环。

---

## 整体路线图

```
┌─────────────────────────────────────────────────────────────────────┐
│                        Spider-Aggregation                            │
│                   个人知识动态监测系统                                │
└─────────────────────────────────────────────────────────────────────┘

                            │
        ┌───────────────────┼───────────────────┐
        │                   │                   │
        ▼                   ▼                   ▼
   ┌─────────┐        ┌─────────┐        ┌─────────┐
   │ 阶段 1  │        │ 阶段 2  │        │ 阶段 3  │
   │  MVP    │ ────▶  │  增强   │ ────▶  │  个性化 │
   └─────────┘        └─────────┘        └─────────┘
        │                   │                   │
        └───────────────────┼───────────────────┘
                            │
                            ▼
                     ┌─────────┐
                     │ 阶段 4  │
                     │  高级   │
                     └─────────┘
```

---

## 各阶段概览

### 📍 阶段 1 - MVP（最小可用版本）

**目标：** 快速构建核心功能可跑通的版本

**主要功能：**
- RSS/Atom 订阅源采集
- 定时抓取 + 去重
- 命令行界面

**预计周期：** 10-15 天

**详细文档：** [mvp-implementation.md](./mvp-implementation.md)

---

### 📍 阶段 2 - 基础增强与内容加工

**目标：** 加入结构化解析、NLP 内容加工和可配置过滤

**主要功能：**
- 全文抓取与摘要生成
- 关键词提取与标签过滤
- Web 界面
- 去重增强

**预计周期：** 3-4 周

**详细文档：** [phase2-enhancement.md](./phase2-enhancement.md)

---

### 📍 阶段 3 - 个性化与智能推荐

**目标：** 引入用户行为分析和机器学习推荐

**主要功能：**
- 用户行为追踪
- 兴趣模型构建
- 智能推荐引擎
- 反馈学习系统

**预计周期：** 3-4 周

**详细文档：** [phase3-personalization.md](./phase3-personalization.md)

---

### 📍 阶段 4 - 高级功能与生态整合

**目标：** 打造完整的情报分析平台

**主要功能：**
- 多源采集（社交媒体、API、网页监控）
- 事件检测与聚类
- 趋势分析与预测
- 知识图谱
- 自动化报告

**预计周期：** 4-6 周

**详细文档：** [phase4-advanced.md](./phase4-advanced.md)

---

## 时间规划总览

| 阶段 | 名称 | 预计周期 | 累计时间 |
|------|------|----------|----------|
| 1 | MVP | 10-15 天 | 2-3 周 |
| 2 | 基础增强 | 3-4 周 | 5-7 周 |
| 3 | 个性化推荐 | 3-4 周 | 8-11 周 |
| 4 | 高级功能 | 4-6 周 | 12-17 周 |

**总预计周期：** 约 **3-4 个月**（按每天 2-3 小时开发）

---

## 技术栈总览

### 后端
| 类别 | 技术 |
|------|------|
| 语言 | Python 3.14+ |
| 包管理 | UV |
| Web 框架 | FastAPI |
| 数据库 | SQLite → PostgreSQL |
| ORM | SQLAlchemy |
| 任务调度 | APScheduler |
| NLP | spaCy, transformers |
| 机器学习 | scikit-learn, lightfm |
| 图计算 | NetworkX |
| 时间序列 | Prophet |

### 前端
| 类别 | 技术 |
|------|------|
| 框架 | Vue 3 + TypeScript |
| 构建 | Vite |
| 图表 | Plotly / ECharts |
| UI 组件 | Element Plus / Naive UI |

### 基础设施
| 类别 | 技术 |
|------|------|
| 容器化 | Docker |
| 反向代理 | Nginx |
| 缓存 | Redis (可选) |
| 监控 | 日志 + 指标 |

---

## 核心模块依赖关系

```
┌─────────────────────────────────────────────────────────────────┐
│                         用户接口层                               │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐       │
│  │   CLI    │  │  Web API │  │ Web UI   │  │  报告    │       │
│  └──────────┘  └──────────┘  └──────────┘  └──────────┘       │
└─────────────────────────────────────────────────────────────────┘
                              │
┌─────────────────────────────────────────────────────────────────┐
│                         业务逻辑层                               │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐       │
│  │  调度器  │  │  抓取器  │  │  解析器  │  │ 去重器   │       │
│  └──────────┘  └──────────┘  └──────────┘  └──────────┘       │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐       │
│  │ NLP引擎 │  │ 推荐引擎 │  │ 过滤器   │  │ 事件聚类 │       │
│  └──────────┘  └──────────┘  └──────────┘  └──────────┘       │
└─────────────────────────────────────────────────────────────────┘
                              │
┌─────────────────────────────────────────────────────────────────┐
│                         数据访问层                               │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐       │
│  │ Feed仓库 │  │Entry仓库 │  │规则仓库  │  │图数据库  │       │
│  └──────────┘  └──────────┘  └──────────┘  └──────────┘       │
└─────────────────────────────────────────────────────────────────┘
                              │
┌─────────────────────────────────────────────────────────────────┐
│                         数据存储层                               │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐       │
│  │ SQLite   │  │ PostgreSQL│  │  Redis   │  │ 文件系统 │       │
│  └──────────┘  └──────────┘  └──────────┘  └──────────┘       │
└─────────────────────────────────────────────────────────────────┘
```

---

## 功能演进路线

### MVP → 增强阶段
```
RSS 抓取 ─────────────────────────▶ 多源采集
命令行   ─────────────────────────▶ Web 界面
简单去重 ─────────────────────────▶ 智能去重
基本存储 ─────────────────────────▶ 结构化存储
```

### 增强阶段 → 个性化
```
被动展示 ─────────────────────────▶ 个性化推荐
静态内容 ─────────────────────────▶ NLP 加工
简单过滤 ─────────────────────────▶ 智能过滤
人工操作 ─────────────────────────▶ 行为学习
```

### 个性化 → 高级
```
单条内容 ─────────────────────────▶ 事件聚合
当前状态 ─────────────────────────▶ 趋势预测
内容消费 ─────────────────────────▶ 情报分析
手动分析 ─────────────────────────▶ 自动报告
```

---

## 里程碑验收标准

### Milestone 1: MVP 完成
- [x] 支持 5+ 订阅源
- [x] 命令行可用
- [x] 去重正常
- [x] 定时抓取

### Milestone 2: 增强完成
- [ ] 全文抓取可用
- [ ] Web 界面可用
- [ ] NLP 功能集成
- [ ] 过滤系统可用

### Milestone 3: 个性化完成
- [ ] 推荐系统上线
- [ ] 用户画像构建
- [ ] 效果指标达标
- [ ] A/B 测试完成

### Milestone 4: 高级完成
- [ ] 多源采集集成
- [ ] 事件检测可用
- [ ] 趋势分析准确
- [ ] 报告自动生成

---

## 风险与应对

| 风险 | 影响 | 应对策略 |
|------|------|----------|
| NLP 模型质量 | 摘要/推荐效果差 | 分阶段验证，准备备用方案 |
| 数据源不稳定 | 采集失败 | 降级策略，缓存机制 |
| 性能瓶颈 | 系统响应慢 | 异步处理，分批优化 |
| 用户数据隐私 | 合规问题 | 数据脱敏，本地优先 |
| 开发时间超期 | 项目延期 | 优先 MVP，迭代开发 |

---

## 下一步行动

如果您准备开始开发，建议按以下顺序进行：

1. **阅读阶段 1 详细计划** (`plans/mvp-implementation.md`)
2. **选择开始的具体子阶段**（如 PHASE 1.0 基础搭建）
3. **逐个完成任务**，每完成一个打勾确认
4. **遇到问题随时调整**，不必完全按计划执行

祝开发顺利！
