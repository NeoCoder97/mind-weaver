<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Spider Aggregation{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <!-- Alpine.js for lightweight reactivity -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <!-- Chart.js for data visualization -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <header class="header">
        <div class="container">
            <h1 class="logo">
                <a href="{{ url_for('index') }}">Spider Aggregation</a>
            </h1>
            <nav class="nav">
                <a href="{{ url_for('dashboard') }}" class="{% if request.endpoint == 'dashboard' %}active{% endif %}">仪表盘</a>
                <a href="{{ url_for('index') }}" class="{% if request.endpoint == 'index' %}active{% endif %}">文章列表</a>
                <a href="{{ url_for('feeds') }}" class="{% if request.endpoint == 'feeds' %}active{% endif %}">订阅源</a>
                <a href="{{ url_for('filter_rules') }}" class="{% if request.endpoint == 'filter_rules' %}active{% endif %}">过滤规则</a>
                <a href="{{ url_for('settings') }}" class="{% if request.endpoint == 'settings' %}active{% endif %}">设置</a>
            </nav>
        </div>
    </header>

    <main class="main">
        <div class="container">
            {% block content %}{% endblock %}
        </div>
    </main>

    <!-- Toast Notification Container -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Modal Overlay Container -->
    <div id="modal-container" class="modal-overlay" style="display: none;">
        <div class="modal-dialog">
            <div class="modal-header">
                <h3 id="modal-title">Modal Title</h3>
                <button type="button" class="modal-close" onclick="App.modal.hide()">&times;</button>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- Modal content will be injected here -->
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <p>Spider Aggregation v0.3.0 - 个人知识动态监测工具</p>
        </div>
    </footer>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
    {% block scripts %}{% endblock %}
</body>
</html>
